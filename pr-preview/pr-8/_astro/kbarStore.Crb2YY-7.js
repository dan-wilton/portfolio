let l=[],f=(o,c)=>{let n=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},l:0,lc:0,listen(s,i){return t.lc=n.push(s,i||t.l)/2,()=>{let u=n.indexOf(s);~u&&(n.splice(u,2),--t.lc||t.off())}},notify(s,i){let u=!l.length;for(let e=0;e<n.length;e+=2)l.push(n[e],n[e+1],t.value,s,i);if(u){for(let e=0;e<l.length;e+=5){let r;for(let a=e+1;!r&&(a+=5)<l.length;)l[a]<l[e+1]&&(r=l.push(l[e],l[e+1],l[e+2],l[e+3],l[e+4]));r||l[e](l[e+2],l[e+3],l[e+4])}l.length=0}},off(){},set(s){let i=t.value;i!==s&&(t.value=s,t.notify(i))},subscribe(s,i){let u=t.listen(s,i);return s(t.value),u},value:o};return t};const h=f(!1),p=f(""),v=f([]);export{p as a,f as b,h as i,v as s};
