let t=[],f=(o,c)=>{let n=[],l={get(){return l.lc||l.listen(()=>{})(),l.value},l:c||0,lc:0,listen(s,i){return l.lc=n.push(s,i||l.l)/2,()=>{let u=n.indexOf(s);~u&&(n.splice(u,2),--l.lc||l.off())}},notify(s,i){let u=!t.length;for(let e=0;e<n.length;e+=2)t.push(n[e],n[e+1],l.value,s,i);if(u){for(let e=0;e<t.length;e+=5){let r;for(let a=e+1;!r&&(a+=5)<t.length;)t[a]<t[e+1]&&(r=t.push(t[e],t[e+1],t[e+2],t[e+3],t[e+4]));r||t[e](t[e+2],t[e+3],t[e+4])}t.length=0}},off(){},set(s){let i=l.value;i!==s&&(l.value=s,l.notify(i))},subscribe(s,i){let u=l.listen(s,i);return s(l.value),u},value:o};return l};const h=f(!1),p=f(""),g=f([]);export{p as a,h as i,g as s};
